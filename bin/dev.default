#!/bin/sh -e

# Starts a dev console to compile and run lichess.
#
# To edit this file, copy it to bin/dev. It will not be tracked by Git:
# cp bin/dev.default bin/dev
#
# Usage:
# ./bin/dev

# Yes it needs tons of memory. Go for 4g if you have them.
export JAVA_OPTS="-Xms2048m -Xmx2560m -XX:ReservedCodeCacheSize=128m -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:+ExitOnOutOfMemoryError -Dkamon.auto-start=true"

# For development without nginx.
export SERVE_ASSETS=1

sbt -Dhttp.port=9663 "$@"
