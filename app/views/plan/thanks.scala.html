@(patron: Option[lila.plan.Patron], customer: Option[lila.plan.StripeCustomer])(implicit ctx: Context)

@base.layout(
moreCss = responsiveCssTag("page"),
responsive = true,
title = "Thank you for your support!") {

<main class="page-small page box box-pad">

  <h1 class="text" data-icon="@patronIconChar">Thank you for your support!</h1>

  <div class="body">
    <p>
      Thank you for helping us build Lichess. <strong>You rock!</strong>
    </p>
    <p>
      Your transaction has been completed,
      and a receipt for your donation has been emailed to you.
    </p>
    @patron.map { p =>
    @if(p.payPal.??(_.renew)) {
    <p>
      You now have a permanent Patron account.<br />
      @ctx.me.map { me =>
      Check out your <a href="@routes.User.show(me.username)">profile page</a>!
      }
    </p>
    } else {
    @if(customer.??(_.renew)) {
    <p>
      Note that your <a href="@routes.Plan.index">Patron page</a> only shows
      invoices for your monthly subscription.
    </p>
    <p>
      But worry not, we received your donation! Thanks again!
    </p>
    } else {
    @if(p.isLifetime) {
    <p>
      You are now a lifetime Lichess Patron!<br />
      @ctx.me.map { me =>
      Check out your <a href="@routes.User.show(me.username)">profile page</a>.
      }
    </p>
    } else {
    <p>
      You are now a Lichess Patron for one month!<br />
      @ctx.me.map { me =>
      Check out your <a href="@routes.User.show(me.username)">profile page</a>.
      }
    </p>
    <p>
      In one month, you will <strong>not</strong> be charged again,
      and your Lichess account will be downgraded to free.
    </p>
    <p>
      To get a permanent Patron account, please consider making a
      <a href="@routes.Plan.index">monthly donation</a>.
    </p>
    }
    }
    }
    }
    <p>
      Success! <a href="@routes.Lobby.home">Return to Lichess homepage</a>.
    </p>
  </div>
</main>
}.toHtml
