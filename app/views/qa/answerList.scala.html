@(q: lila.qa.Question, as: List[lila.qa.AnswerWithUserAndComments])(implicit ctx: Context)

<div class="answers-header">
  @as.size match {
  case 0 => {
  Be the first to answer!
  }
  case 1 => {
  One answer
  }
  case n => {
  @n Answers
  }
  }
</div>
<div class="answers">
  @as.map { a =>
  <div class="answer-wrap" id="answer-@a.answer.id">
    <div class="votecol">
      @views.html.qa.vote(routes.QaAnswer.vote(q.id, a.answer.id).url, a.answer.vote)
      @if(a.answer.accepted) {
      <span title="The question owner accepted this as the best answer" class="count accept accepted">&#10004;</span>
      } else {
      @if(lila.qa.QaAuth canEdit q) {
      <form class="accept-form" action="@routes.QaAnswer.accept(q.id, a.answer.id)" method="POST">
        <button type="submit"
          title="Accept this as the best answer"
          class="count accept @if(a.answer.accepted) {accepted}" data-icon="E"></button>
      </form>
      }
      }
    </div>
    <div class="postcol">
      <div class="body">
        <div class="answer">
          @autoLink(a.answer.body)
          @if(lila.qa.QaAuth canEdit a.answer) {
          <form class="edit-answer" action="@routes.QaAnswer.doEdit(q.id, a.answer.id)" method="post">
            <textarea class="answer-body" name="body">@a.answer.body</textarea>
            <button class="pure button" type="submit">Update answer</button>
          </form>
          }
          <div class="metadata">
            Answered @momentFromNow(a.answer.createdAt)
            by @userLink(a.user)
            @if(lila.qa.QaAuth canEdit a.answer) {
            <a title="Edit answer" class="icon toggle-edit-answer" data-icon="m"> Edit the answer</a>
            }
            @nope("Remove the answer", routes.QaAnswer.remove(q.id, a.answer.id))
          </div>
        </div>
        <div class="comments" id="answer-@a.answer.id-comments">
          @views.html.qa.commentList(q, a.comments, routes.QaComment.answer(q.id, a.answer.id).url)
        </div>
      </div>
    </div>
  </div>
  }
</div>
