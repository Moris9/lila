@(q: lila.qa.Question, user: User, answers: List[lila.qa.AnswerWithUserAndComments], comments: List[lila.qa.CommentWithUser], popular: List[lila.qa.Question], related: List[lila.qa.Question], answerForm: Option[Form[_]])(implicit ctx: Context)

@goodies = {
@relatedBox(related)
@popularBox(popular)
}

@layout(
title = q.title,
goodies = goodies.some) {

<div class="question">
  <h1>
    <a href="@routes.QaQuestion.index()" data-icon="&"></a>@q.title
  </h1>
  <table class="meta">
    <tbody>
      <tr>
        <th>Asked</th>
        <td>@momentFromNow(q.createdAt) by @userLink(user)</td>
      </tr>
      @if(q.tags.nonEmpty) {
      <tr>
        <th>Tags</th>
        <td>@tags(q.tags)</td>
      </tr>
      }
      <tr>
        <th>Activity</th>
        <td>Viewed @q.views times, last updated @momentFromNow(q.updatedAt)</td>
      </tr>
      <tr>
        <th>Actions</th>
        <td>
          @if(lila.qa.QaAuth canEdit q) {
          <a class="thin button" data-icon="m" href="@routes.QaQuestion.edit(q.id, q.slug)"> Edit question</a>
          }
          @nope("Remove question", routes.QaQuestion.remove(q.id))
        </td>
      </tr>
    </tbody>
  </table>
  <div class="body">
    @autoLink(q.body)
  </div>
  <div class="comments" id="question-@q.id-comments">
    @views.html.qa.commentList(q, comments, routes.QaComment.question(q.id).url)
  </div>
  @answerList(q, answers)
  @answerForm.map { form =>
  <div class="your-answer">
    @if(answers.nonEmpty) {
    <p class="title answers-header">Your answer</p>
    }
    <form class="wide" action="@routes.QaAnswer.create(q.id).url#your-answer" method="post">
      <textarea class="answer-body" name="@form("body").name">@form("body").value</textarea>
      @errMsg(form("body"))
      <button class="pure submit button" type="submit">Post your answer</button>
    </form>
  </div>
</div>
}
}
