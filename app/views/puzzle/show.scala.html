@(puzzle: lila.puzzle.Puzzle, data: play.api.libs.json.JsObject)(implicit ctx: Context)

@evenMoreJs = {
@embedJs {
lichess = lichess || {};
lichess.puzzle = {
data: @Html(toJson(data)),
i18n: @jsI18n()
};
}
}

@layout(
trans.training.str(),
evenMoreJs = Some(evenMoreJs),
openGraph = lila.app.ui.OpenGraph(
image = cdnUrl(routes.Export.puzzlePng(puzzle.id).url).some,
title = s"Chess tactic training ${puzzle.id} â€¢ ${puzzle.color.name.capitalize} to play",
url = s"$netBaseUrl${routes.Puzzle.show(puzzle.id).url}",
description = s"Tactic puzzle #${puzzle.id}: " + puzzle.color.fold(
trans.findTheBestMoveForWhite,
trans.findTheBestMoveForBlack
).str() + s" Played by ${puzzle.attempts} players.").some) {
<div id="puzzle" class="cg-512">@miniBoardContent</div>
}
