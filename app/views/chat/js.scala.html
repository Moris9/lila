@(c: lila.chat.UserChat.Mine, name: String, notes: Boolean = false, writeable: Boolean = true)(implicit ctx: Context)
@embedJs {
lichess.makeChat('chat', {
lines: @Html(J.stringify(lila.chat.JsonView(c.chat))),
i18n: @Html(J.stringify(i18nJsObject(
trans.talkInChat,
trans.toggleTheChat
))),
name: "@name",
userId: @Html(ctx.userId.fold("null")(id => s""""$id"""")),
writeable: @writeable,
kobold: @ctx.troll,
mod: @isGranted(_.MarkTroll),
timeout: @c.timeout,
timeoutReasons: @if(isGranted(_.MarkTroll)) { @Html(J.stringify(lila.chat.JsonView.timeoutReasons)) } else { null }
});
}
