@(e: lila.timeline.Entry)(implicit ctx: Context)

@import lila.hub.actorApi.timeline._

@e.decode.map { decoded =>
<div class="entry">
  @decoded match {
  case Follow(u1, u2) => {
  @trans.xStartedFollowingY(userIdLink(u1.some), userIdLink(u2.some))
  }
  case FollowYou(userId) => {
  @userIdLink(userId.some) @trans.followsYou()
  }
  case TeamJoin(userId, teamId) => {
  @trans.xJoinedTeamY(userIdLink(userId.some), teamLink(teamId))
  }
  case TeamCreate(userId, teamId) => {
  @trans.xCreatedTeamY(userIdLink(userId.some), teamLink(teamId))
  }
  case ForumPost(userId, categ, topicSlug, topicName, page, post) => {
  @trans.xPostedInForumY(userIdLink(userId.some), """<a href="%s#post">%s</a>""".format(routes.ForumTopic.show(categ, topicSlug, page), topicName))
  }
  }
  @timeago(e.date)
</div>
}
