<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>lichess - Sound Test Page</title>
  <style>
    html,
    body {
      font: 16px monospace;
      background: #000;
      color: #ebd488
    }

    button {
      width: 100%;
    }
  </style>
  <meta content="noindex, nofollow" name="robots">
</head>

<body data-asset-version="_av_">
  <h1>Sound Test Page</h1>
  <script>
    lichess = {
      load: new Promise(() => {})
    }
  document.body.setAttribute('data-asset-url', `${location.protocol}//${location.host}`);
  </script>
  <script src="../compiled/deps.min.js"></script>
  <script src="../compiled/site.js"></script>
  <table>
    <thead>
      <tr id="sets"></tr>
    </thead>
    <tbody id="sounds">
    </tbody>
  </table>
  <script>
    function playSound(set, key) {
      lichess.sound.changeSet(set);
      lichess.sound[key]();
    }
    var soundSets = ["standard", "piano", "nes", "sfx", "futuristic", "robot"];
    var soundNames = {
      genericNotify: 'GenericNotify',
      move: 'Move',
      capture: 'Capture',
      explode: 'Explosion',
      lowtime: 'LowTime',
      victory: 'Victory',
      defeat: 'Defeat',
      draw: 'Draw',
      tournament1st: 'Tournament1st',
      tournament2nd: 'Tournament2nd',
      tournament3rd: 'Tournament3rd',
      tournamentOther: 'TournamentOther',
      berserk: 'Berserk',
      check: 'Check',
      newChallenge: 'NewChallenge',
      newPM: 'NewPM',
      confirmation: 'Confirmation',
      error: 'Error'
    };
    for (var i = 0; i <= 10; i++) soundNames['countDown' + i] = 'CountDown' + i;
    $.each(soundSets, function(i, soundSet) {
      $('#sets').append($('<th>').text(soundSet));
    });
    for (const [soundKey, soundName] of Object.entries(soundNames)) {
      console.log(i, soundKey, soundName);
      var tr = $('<tr>').appendTo($('#sounds'));
      $.each(soundSets, function(i, soundSet) {
        var id = "soundSet_" + soundSet;
        $('<td>').append($("<button>").on('click', function() {
          playSound(soundSet, soundKey);
        }).text(soundName)).appendTo(tr);
      });
    }
    /*
        var tr = $('<tr>');
        $.each(soundSets, function(i, soundSet) {
          $('<td>').append($("<button>").on('click', function() {
            var i = 10;
            var tId = setInterval(function() {
              playSound(soundSet, "CountDown" + i);
              i-- || clearInterval(tId);
            }, 1000);
          }).text("CountDown10 --1> 0")).appendTo(tr);
          tr.appendTo($('#sounds'));
        });
        */
  </script>
</body>

</html>
