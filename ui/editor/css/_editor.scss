.board-editor {

  $board-width: calc(100vh * var(--board-scale) - #{$site-header-height});

  display: grid;
  grid-template-columns: minmax(200px, $board-width) 2rem minmax(200px, 300px) 0;
  grid-template-rows: auto $board-width auto;
  grid-template-areas:
  'spare-top    . .'
  'board        . tools'
  'spare-bottom . .'
  'copyables    . .';

  user-select: none;

  & .spare {
    @extend %box-neat;
    display: flex;
    box-shadow: 0 2px 3px rgba(0,0,0,0.3) inset;
    &-top {
      grid-area: spare-top;
      margin-bottom: 15px;
    }
    &-bottom {
      grid-area: spare-bottom;
      margin-top: 15px;
    }
    &-black {
      background: #888;
    }
    &-white {
      background: #ccc;
    }
    & .selected-square {
      background: fade-out($c-primary, .5);
    }
    & .no-square {
      flex: 0 0 12.5%;
      & div {
        @extend %square;
        position: relative;
      }
    }
    .is3d & .no-square {
      height: 58.102px;
    }
    & piece {
      display: block;
      cursor: pointer;
      width: 100%;
      height: 100%;
    }
    .is3d & piece {
      /* original size:
      width: 140.625%;
      height: 179.6875%; */
  /* size on 3D board, with height/width = 90.78571% */
  width: 100%;
  height: 140.7465%;
  left: 0;
  top: -36%;
}
& piece.pointer {
  background-image: img-url('icons/pointer.png');
  width: 100%;
  height: 100%;
}
& piece.trash {
  font-size: 44px;
  top: 0;
  height: 100%;
  &::before {
    vertical-align: middle;
  }
}
& .no-square.trash {
  color: black;
  text-align: center
}
.is3d & piece.pointer,
.is3d & piece.trash {
  top: -15%;
}
  }

  & .cg-board-wrap {
    @extend %square;
    grid-area: board;
  }

  &__tools {
    grid-area: tools;
    display: flex;
    flex-flow: column;
    & > * {
      margin: .5rem 0;
    }
    & select {
      width: 100%;
      &.positions option:checked {
        font-style: italic;
      }
    }
    & .metadata {
      @extend %box-neat;
      background: $c-bg-box;
      padding: 1rem;
      white-space: nowrap;
      & .color {
        margin-bottom: 1em;
      }
      & .castling label,
      & .castling input {
        display:inline-block;
        margin: 3px;
        vertical-align: middle;
      }
    }
    & .actions {
      display: flex;
      flex-flow: column;
      justify-content: stretch;
      & .button {
        width: 100%;
        text-align: left;
      }
    }
  }

  & .copyables {
    grid-area: copyables;
  }
}

// #board_editor .copyables > p {
//   margin-top: 7px;
// }
// #board_editor .copyables .name {
//   font-size: 1.2em;
//   display: inline-block;
//   width: 40px;
// }
// #board_editor .copyable {
//   width: 462px;
// }
// /*
// http://www.flaticon.com/free-icon/clicker_99162
// */
  // #board_editor .spare piece.pointer {
  //   background-image: url('/assets/images/icons/pointer.png');
  //   width: 100%;
  //   height: 100%;
  // }
  // #board_editor .spare piece.trash {
  //   font-size: 32pt;
  //   top: 0;
  //   height: 100%;
  // }
  // #board_editor .spare .no-square.trash {
  //   color: black;
  //   text-align: center
  // }
  // .is3d #board_editor .spare piece.pointer, .is3d #board_editor .spare piece.trash {
  //   top: -15%;
  // }
