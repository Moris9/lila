@import 'sub-rating';
@import 'header';
@import 'trophy';
@import 'number-menu';
@import 'note-zone';

.page-menu {
  /*
   * for the trophies
   * this gorgeous hack bypasses the .user-show overflow: hidden
   * */
position: relative;
}

.user-show {

  overflow: hidden; /* this fixes profile overflow, but cuts out the trophies */

  &__social {
    @extend %flex-between;
    background: $c-bg-zebra;
    .number-menu {
      margin: 0 0 .2em 1em;
    }
    .user-actions {
      margin: 1em;
      form {
        display: inline;
      }
    }
    .relation-actions {
      @extend %flex-center-nowrap;
      border-right: $border;
    }
  }
  #us_profile {
    @extend %flex-center;
    border-top: $border;
    .warning {
      @extend %box-radius, %flex-center-nowrap;
      padding: .7em;
      background: mix($c-bad, $c-bg-box, 10%);
      border: 1px solid mix($c-bad, $c-bg-box, 30%);
      color: $c-bad;
      span {
        margin-right: .2em;
        font-size: 2.7em;
      }
    }
    .engine_warning {
      margin: 10px 0;
    }
    .rating-history {
      flex: 1 1 58%;
      margin: -10px 0 -14px -8px;
      height: 350px;
      .spinner {
        width: 90px;
        height: 90px;
        margin: 120px auto 0 auto;
      }
    }
    .profile-side {
      @extend %flex-column;
      flex: 1 0 300px;
      border-left: $border;
      overflow: hidden;
    }
    .country img {
      vertical-align: text-bottom;
      margin: 0 .3em;
    }
    .user-infos {
      @include hoverflow;
      flex: 1 1 auto;
      padding: .8em;
      max-height: 332px;
      overflow: auto;
    }
    .insight {
      @extend %flex-center-nowrap;
      /* no point linking to insights on devices that can't properly display it */
      @include breakpoint($mq-not-medium) {
        display: none;
      }
      flex: 0 0 auto;
      padding: .3em 1em;
      border-top: $border;
      color: $c-link;
      strong {
        display: block;
        font-weight: normal;
        font-size: 1.5em;
      }
      em {
        display: block;
      }
      &::before {
        font-size: 2.5em;
        margin-right: 1rem;
      }
      &:hover,
      &:hover::before {
        @include transition();
        background: $c-primary;
        color: $c-primary-over;
      }
    }
    .col2 {
      display: flex;
      flex-flow: row wrap;
      > a {
        flex: 0 0 50%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    }
    .bio {
      @extend %break-word;
      font-style: italic;
      img {
        max-width: 100%;
      }
    }
  }
  .claim-title {
    @extend %box-padding;
    border-top: $border;
    h2 {
      font-size: 1.5em;
      margin-bottom: 1em;
    }
    .actions {
      @extend %flex-between;
      margin: 3em 0 1em 0;
    }
  }
  .crosstable {
    margin: 2em 1em;
    width: auto;
  }
  .new-player {
    padding: 1.5em;
    overflow-y: scroll;
    h2 {
      font-size: 1.5em;
    }
    p {
      margin: 1em 0;
    }
    li {
      list-style: disc inside;
      line-height: 1.5em;
    }
  }
  .number-menu .to-games.active,
  #games.number-menu {
    background: $c-bg-low!important;
  }
  .angles {
    @extend %metal;
    font-size: 1.2em;
    height: 4rem;
    border-top: $border;
    .nm-item {
      @extend %flex-center;
      justify-content: center;
    }
    .unread {
      margin-left: .5em;
    }
  }

  .activity {
    margin-bottom: 2em;
  }
}
